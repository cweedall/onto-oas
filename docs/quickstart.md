## Installation 

### Downloading binary


1. Go the [latest release](https://github.com/KnowledgeCaptureAndDiscovery/OBA/releases/latest)
2. Download the file with extension .jar


### Building binary from the resource

1. Clone the repository `git clone https://github.com/KnowledgeCaptureAndDiscovery/OBA.git`
2. Install it using `mvn package`


## Running

1. Create the OBA config file from the [sample configuration](config.yaml.sample)
2. Pass the configuration and run OBA

```bash
$ java -jar oba-2.2.0-jar-with-dependencies.jar -c config.yaml
```


### Directory structure

At top-level, there is two directories:

- servers: it contains the OpenAPI specification and server implementation
- queries: contains all the queries.

#### Servers

The servers directory contains the OpenAPI specification `openapi.yaml` and the directory with the server implementation
(default: python) 

#### Query

The queries directory contains the queries files. These files are been generated by OBA.

There are three types of directories inside the queries directory: 
1. Default queries (_default_): contains the default queries generated by OBA. 
2. Custom queries (_custom_): Sometimes the OBA user needs more flexible, the custom directory contains these special queries.
3. By classes: OBA creates a query directory per class. It allows to OBA user to create a special query for the class. 

!!!info
    By default, the server reads the query from the default directory. Unless, the query exists in the class directory.
                       

### Default queries

OBA generated the following queries:

- get_all: Get all the resources of a type `GET /persons` in the DataStore.
- get_all_user: Get all the resources of a type `GET /persons?username=USER` in the graph **USER**.
- get_one: Get the resource ID `GET /persons/ID` in the DataStore.
- get_one_user: Get the resource with the `GET /persons/ID?username=USER` in the graph **USER**.

The queries for POST, PUT and DELETE cannot be modified.

